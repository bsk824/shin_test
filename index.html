<!DOCTYPE html>
<html lang="ko">
<head>
<title></title>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, target-densitydpi=medium-dpi" name="viewport">
<meta http-equiv="X-UA-Compatible" content="IE=Edge">
<script type="text/javascript" src="jquery-1.11.1.min.js"></script>
<script src="jquery-ui.min.js"></script>
<script src="jquery.ui.touch.js"></script>
</head>
<body>
	<style type="text/css">
	* {margin:0;padding:0;text-align:center;}
	.wrap {position:relative;height:50px;margin:50px;border:1px solid red;}
	.bg {position:absolute;top:0;bottom:0;left:0;width:0;background:#000;}
	.btn {position:absolute;top:0;bottom:0;width:40px;padding:5px;background:none;border:0;z-index:2;}
	.btn span {display:block;width:100%;height:100%;background:red;}
	.chk {width:100px;margin:0 auto;}
	</style>
	<script>
	$(function() {
		$(".choice label").click(function(){
			var $checkBoxList = $('.choice');
			var $labels = $checkBoxList.find("label");
			$labels.removeClass("on");
			$(this).addClass("on");
		});
		var chk = 0;
		function back(_this) {
			_this.animate({'left' : '0'},200);
			$('.bg').animate({'width' : '0'},200);
			_this.removeClass('on');
			chk = 0;
		}
		function end(_this,wrapW) {
			_this.animate({'left' : wrapW+'px'},200);
			_this.addClass('on');
			$('.bg').animate({'width' : '100%'},200,function(){
				if ($('.choice label').eq(2).hasClass('on')) { 
					$('.evtLayer2').show(); // 세번째 보기 선택

				} else if ($('.choice label').hasClass("on")) {
					$('.evtLayer1').show();// 나머지 보기 선택

				} 
				$(".btn").draggable("disable");
			});
			chk = 1;
		}
		$(".btn").draggable({
			containment : 'parent',
			start : function(e) {
				if (!$('.choice label').hasClass("on")) { // 보기 선택을 하지 않았을 경우
					alert('보기를 선택해 주시기 바랍니다.');
					e.preventDefault();
				}
			},
			drag : function(){
				var pos = $(this).position().left;
				$('.bg').width(pos);
			},
			stop : function() {
				var _this = $(this)
					,wrapW = _this.parent().width() - _this.width()
					,wrap = _this.parent().width() / 4
					,pos = _this.position().left;
				(pos < wrap) ? back(_this) : end(_this, wrapW) ;
			}
		});
	});
	function layerClose() {
		$('.evtLayer').hide();
	}
	</script>
	<p class="choice">
		<label><input type="radio" />aaaa</label>
		<label><input type="radio" />aaaa</label>
		<label><input type="radio" />aaaa</label>
		<label><input type="radio" />aaaa</label>
		<label><input type="radio" />aaaa</label>
	</p>
	<div class="wrap">
		<div class="btn"><span></span></div>
		<div class="bg"></div>
	</div>

	<div class="evtLayer1" style="display:none;">
		aaaaaaa
	</div>
	<div class="evtLayer2" style="display:none;">
		bbbbbb
	</div>


</body>
</html>
