<!DOCTYPE html>
<html lang="ko">
<head>
<title></title>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=Edge">
<script type="text/javascript" src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
<script src="https://code.jquery.com/ui/1.12.0/jquery-ui.js"></script>
<script src="http://codefactory.kr/examples/js/jquery.ui.touch.js"></script>
</head>
<body>
	<style type="text/css">
	* {margin:0;padding:0;}
	.wrap {position:relative;height:50px;margin:100px;border:1px solid red;}
	.bg {position:absolute;top:0;bottom:0;left:0;width:0;background:#000;}
	.btn {position:absolute;top:0;bottom:0;width:40px;padding:5px;background:none;border:0;z-index:2;}
	.btn span {display:block;width:100%;height:100%;border:1px solid red;}
	</style>
	<script>
	$(function() {
		var sta = 0;
		function back(_this) {
			_this.animate({'left' : '0'},200);
			$('.bg').animate({'width' : '0'},200);
		}
		function end(_this) {
			_this.css('left','auto');
			_this.animate({'right' : '0'},200);
			$('.bg').animate({'width' : '100%'},200);
		}
		$(".btn").draggable({
			containment : 'parent',
			drag : function(){
				var pos = $(this).position().left;
				$('.bg').width(pos);
			},
			stop : function() {
				var _this = $(this)
					,wrap = _this.parent().width() / 2
					,pos = _this.position().left;
				(pos < wrap) ? back(_this) : end(_this) ;
			}
		});
	});
	</script>
	<div class="wrap">
		<div class="btn"><span></span></div>
		<div class="bg"></div>
	</div>


</body>
</html>
